(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{203:function(t,a,e){t.exports=e.p+"assets/img/Agoric.498fe18d.svg"},204:function(t,a,e){t.exports=e.p+"assets/img/browser-environment.95e0b5fb.svg"},205:function(t,a,e){t.exports=e.p+"assets/img/system-arch.57daa727.svg"},206:function(t,a,e){t.exports=e.p+"assets/img/autoswap-frontend.2e29a2d8.svg"},238:function(t,a,e){"use strict";e.r(a);var s=e(0),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"getting-started-with-the-agoric-cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-started-with-the-agoric-cli"}},[t._v("#")]),t._v(" Getting Started with the Agoric CLI")]),t._v(" "),s("p",[t._v("Note: This tutorial and the Agoric Dapps are currently under\nconstruction for the "),s("a",{attrs:{href:"https://gitcoin.co/hackathon/cross-chain/onboard",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitcoin Cross-Chain Hackathon"),s("OutboundLink")],1),t._v(". We will remove this message\nwhen things are ready for use.")]),t._v(" "),s("p",[s("img",{attrs:{src:e(203),alt:"The Agoric Stack"}})]),t._v(" "),s("p",[t._v("This tutorial will show you how to:")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("Write smart contracts on Zoe, the Agoric platform.")])]),t._v(" "),s("p",[t._v("Our pre-made contracts that you can copy include a Uniswap implementation\n(called autoswap), a second-price auction, and a simple exchange\nwith an order book.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Create dapp user interfaces that interact with the smart contracts\nand the user wallet.")])]),t._v(" "),s("p",[t._v("Our pre-made UI that you can work with is the\nUI for autoswap, the Uniswap implementation.")])])]),t._v(" "),s("p",[t._v("Note that this environment does not connect to the Agoric testnet chain and\nalso does not create a local chain. We are working on adding the\nability to run contracts on chain to the Agoric CLI, but you can find\n"),s("router-link",{attrs:{to:"/manual-setup/"}},[t._v("more information on running on chain here")]),t._v(".")],1),t._v(" "),s("h2",{attrs:{id:"prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),s("p",[t._v("First, install "),s("a",{attrs:{href:"http://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),s("OutboundLink")],1),t._v(", and "),s("a",{attrs:{href:"https://legacy.yarnpkg.com/en/docs/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yarn 1"),s("OutboundLink")],1),t._v(".  Youâ€™ll need to have "),s("strong",[t._v("Node 10.16.0 or later")]),t._v(".")]),t._v(" "),s("p",[t._v("For now, you will need to set up the Agoric CLI as part of a checked-out Agoric SDK, as "),s("code",[t._v("npx agoric")]),t._v(" doesn't yet work.  Run:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Get the latest Agoric SDK in the agoric-sdk directory.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/Agoric/agoric-sdk\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Change to the agoric-sdk directory.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" agoric-sdk\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Install NPM dependencies.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Build sources that need compiling.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" build\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# You can install the agoric CLI anywhere in your $PATH,")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# here is how to do it in ~/bin/agoric")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" link-cli ~/bin/agoric\n")])])]),s("h2",{attrs:{id:"quick-overview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quick-overview"}},[t._v("#")]),t._v(" Quick Overview")]),t._v(" "),s("p",[t._v("After installing the "),s("a",{attrs:{href:"#prerequisites"}},[t._v("Prerequisites")]),t._v(", to create and start a project, run:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("agoric init demo\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" demo\nagoric "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\nagoric start --reset\n")])])]),s("p",[t._v("In another shell, from the same project directory:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" demo\nagoric deploy ./contract/deploy.js ./api/deploy.js\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ui\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" start\n")])])]),s("p",[t._v("Then open:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:3000"),s("OutboundLink")],1),t._v(" to see our demo DApp."),s("br")]),t._v(" "),s("li",[s("a",{attrs:{href:"http://localhost:8000/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8000/"),s("OutboundLink")],1),t._v(" to see the Simple Wallet and your REPL (Read-Eval-Print Loop)."),s("br")])]),t._v(" "),s("h2",{attrs:{id:"your-first-agoric-dapp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#your-first-agoric-dapp"}},[t._v("#")]),t._v(" Your First Agoric Dapp")]),t._v(" "),s("p",[s("img",{attrs:{src:e(204),alt:"The Browser Environment"}})]),t._v(" "),s("h3",{attrs:{id:"_1-creating-a-project-directory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-creating-a-project-directory"}},[t._v("#")]),t._v(" 1. Creating a project directory")]),t._v(" "),s("p",[t._v("Let's install the default smart contracts and UI.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Initialize your dapp project.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Note: Change the `demo` name to something meaningful.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Remember to prefix this with `npx` if you chose that option.")]),t._v("\nagoric init demo\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Go to its directory.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" demo\n")])])]),s("p",[s("code",[t._v("init")]),t._v(" creates a folder with the name you specify and copies over all\nthe files you might need.")]),t._v(" "),s("h3",{attrs:{id:"_2-installing-the-dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-installing-the-dependencies"}},[t._v("#")]),t._v(" 2. Installing the dependencies")]),t._v(" "),s("p",[t._v("Next, let's install the necessary JavaScript packages. This step might\ntake a while.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Install Javascript dependencies.")]),t._v("\nagoric "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3-launching-the-agoric-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-launching-the-agoric-server"}},[t._v("#")]),t._v(" 3. Launching the Agoric server")]),t._v(" "),s("p",[t._v('Next, let\'s start up the Agoric VM. This creates the "vats" in which\nour smart contract code will be run.')]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Run the local vat machine.  Use --reset if you want to discard prior state.")]),t._v("\nagoric start --reset\n")])])]),s("h3",{attrs:{id:"_4-installing-a-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-installing-a-contract"}},[t._v("#")]),t._v(" 4. Installing a contract")]),t._v(" "),s("p",[t._v("Let's deploy our dapp on the Agoric VM.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Install your smart contract and web api (can be done separately)")]),t._v("\nagoric deploy ./contract/deploy.js ./api/deploy.js\n")])])]),s("p",[t._v("And navigate to our wallet\n"),s("a",{attrs:{href:"http://localhost:8000/wallet/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8000/wallet/"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"_5-launching-a-demo-dapp-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-launching-a-demo-dapp-server"}},[t._v("#")]),t._v(" 5. Launching a demo DApp server")]),t._v(" "),s("p",[t._v("Now let's start up the Autoswap frontend, our demo DApp:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ui\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" start  \n")])])]),s("p",[t._v("This launches the React development server and opens a tab in your default browser, and will allow you to\ntrade using the autoswap front-end and contract. We've given you a few\npurses to use in your trades.")]),t._v(" "),s("h2",{attrs:{id:"writing-a-smart-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#writing-a-smart-contract"}},[t._v("#")]),t._v(" Writing a smart contract")]),t._v(" "),s("p",[t._v("Ready to write your own? We've given you a stripped down version of\nthe autoswap contract to get you started. It currently allows you to\ntrade 1 moola for 1 simolean and vice versa, but you can add more\nfunctionality and redeploy.")]),t._v(" "),s("p",[s("img",{attrs:{src:e(205),alt:"System Arch"}})]),t._v(" "),s("p",[t._v("If you take a look at the "),s("code",[t._v("demo")]),t._v(" folder that you had just created,\nyou should see folders like:")]),t._v(" "),s("ul",[s("li",[t._v("api")]),t._v(" "),s("li",[t._v("contract")]),t._v(" "),s("li",[t._v("ui")])]),t._v(" "),s("p",[t._v("Go ahead and open up "),s("code",[t._v("contract/myFirstDapp.js")]),t._v(". To learn more about\nwriting a smart contract on Zoe, please see the "),s("router-link",{attrs:{to:"/zoe/guide/"}},[t._v("Zoe\nguide")]),t._v(".")],1),t._v(" "),s("p",[t._v("Once you've made changes to the smart contract, deploy:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Redeploy")]),t._v("\nagoric deploy ./contract/deploy-myfirstdapp.js ./api/deploy.js\n")])])]),s("h2",{attrs:{id:"editing-the-demo-dappp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#editing-the-demo-dappp"}},[t._v("#")]),t._v(" Editing the demo DAppp")]),t._v(" "),s("p",[s("img",{attrs:{src:e(206),alt:"Autoswap Frontend"}})]),t._v(" "),s("p",[t._v("All of the code for the demo DAppp is under "),s("code",[t._v("/ui")]),t._v(". Once  changes\nwill automatically propagate to the browser tab.")]),t._v(" "),s("p",[t._v("Happy hacking!")])])}),[],!1,null,null,null);a.default=n.exports}}]);