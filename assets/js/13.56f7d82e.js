(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{215:function(t,e,a){"use strict";a.r(e);var r=a(0),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"agoric-dapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#agoric-dapp"}},[t._v("#")]),t._v(" Agoric Dapp")]),t._v(" "),a("p",[a("strong",[t._v("This is a generic guide to Agoric Dapp projects")])]),t._v(" "),a("p",[t._v("A Dapp is a "),a("em",[t._v("distributed application")]),t._v(" which typically has a browser-based user interface, a public API server, and a contract running on the Agoric blockchain.")]),t._v(" "),a("h2",{attrs:{id:"using-a-dapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-a-dapp"}},[t._v("#")]),t._v(" Using a Dapp")]),t._v(" "),a("p",[t._v("If you have installed the "),a("a",{attrs:{href:"https://agoric.com/documentation/getting-started#prerequisites",target:"_blank",rel:"noopener noreferrer"}},[t._v("Agoric CLI"),a("OutboundLink")],1),t._v(" and you just want to try running a Dapp locally (on a simulated Agoric VM, not an actual public chain), you can:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Clone a local version of the dapp. Here we chose the encouragement dapp")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/Agoric/dapp-encouragement.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" dapp-encouragement\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Install the project dependencies")]),t._v("\nagoric "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Start the Agoric VM")]),t._v("\nagoric start --reset\n")])])]),a("p",[t._v("Leave this command running (it is your simulated environment).  Then, in a separate terminal:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Start the user interface")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ui "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" start\n")])])]),a("p",[t._v("Then in a third terminal, deploy the contract and API to the VM.")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Deploy a new instance of the contract to the VM")]),t._v("\nagoric deploy contract/deploy.js\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Reset the VM's API server")]),t._v("\nagoric deploy api/deploy.js\n")])])]),a("p",[t._v("You can then navigate to http://localhost:3000 to view your Dapp.")]),t._v(" "),a("h2",{attrs:{id:"modifying-this-dapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modifying-this-dapp"}},[t._v("#")]),t._v(" Modifying this Dapp")]),t._v(" "),a("p",[t._v("In the Agoric system, components are written in Javascript.")]),t._v(" "),a("h2",{attrs:{id:"components"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#components"}},[t._v("#")]),t._v(" Components")]),t._v(" "),a("p",[t._v("The following are the important directories in an Agoric Dapp project:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#contract"}},[a("code",[t._v("contract")])]),t._v(" define and deploy the on-chain contract")]),t._v(" "),a("li",[a("a",{attrs:{href:"#api"}},[a("code",[t._v("api")])]),t._v(" define and deploy the chain-connected server's "),a("code",[t._v("/api")]),t._v(" HTTP endpoint")]),t._v(" "),a("li",[a("a",{attrs:{href:"#ui"}},[a("code",[t._v("ui")])]),t._v(" the browser user interface that connects between the user's personal wallet and the API server")])]),t._v(" "),a("p",[t._v("Other files and directories in this toplevel folder should not typically be modified.")]),t._v(" "),a("h3",{attrs:{id:"contract-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contract-directory"}},[t._v("#")]),t._v(" Contract directory")]),t._v(" "),a("p",[t._v("In the "),a("code",[t._v("contract")]),t._v(" directory, you can find the following files to edit:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("init")]),t._v(" contract initialization modules, starting with "),a("code",[t._v("init/custom-deploy.js")])]),t._v(" "),a("li",[a("code",[t._v("src")]),t._v(" contract source code, starting with "),a("code",[t._v("src/contract.js")])])]),t._v(" "),a("p",[t._v("Other files and folders that you don't typically need to edit:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("deploy.js")]),t._v(" generic Agoric contract deployment script")]),t._v(" "),a("li",[a("code",[t._v("lib")]),t._v(" library modules provided by Agoric and used by the contract")])]),t._v(" "),a("h3",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("p",[t._v("In the "),a("code",[t._v("api")]),t._v(" directory, you can find the following files to edit:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("src")]),t._v(" /api endpoint handler, starting with "),a("code",[t._v("src/handler.js")])])]),t._v(" "),a("p",[t._v("Other files and folders that you don't typicaly need to edit:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("deploy.js")]),t._v(" generic Agoric API handler deployment script")])]),t._v(" "),a("h3",{attrs:{id:"ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui"}},[t._v("#")]),t._v(" UI")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("ui")]),t._v(" directory is almost completely under your control.  The only files and folders that you don't typically need to edit:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("public/lib")]),t._v(" Agoric UI library")]),t._v(" "),a("li",[a("code",[t._v("public/conf")]),t._v(" configuration files that are generated by the "),a("code",[t._v("contract/deploy.js")]),t._v(" script")])]),t._v(" "),a("h2",{attrs:{id:"more-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#more-information"}},[t._v("#")]),t._v(" More information")]),t._v(" "),a("p",[t._v("You can "),a("a",{attrs:{href:"https://agoric.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("learn more about the Agoric smart contract platform"),a("OutboundLink")],1),t._v(" and how to "),a("a",{attrs:{href:"https://agoric.com/documentation/getting-started",target:"_blank",rel:"noopener noreferrer"}},[t._v("create Agoric Dapps"),a("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);e.default=n.exports}}]);